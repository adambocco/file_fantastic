# File Fantastic

File Fantastic is a simple client-side file management library for the web. The core of this library is written in vanilla JS and has no dependencies. Plugins may have dependencies and will be mentioned in [plugins](#plugins) section such. 

This library can provide a lightweight file management framework for the following use cases:
- Uploading files with the ability to view, download, modify, copy, replace, and remove them.
- Use multiple file uploader instances that can be highly configured for usage in complex forms such as in a CMS.
- Easily view and manage a directory with many files and nested directories using the `Paging` and `Directories` plugins.
- Seamlessly handle file syncing between client and server when handling multiple files being modified, added, and removed.

# Features

- File management:
  - Upload, remove, copy, preview, and modify multiple files.
- JSON (Base 64 data URL) or Form Data request types
- Media previewability (images, audio, video)
- Icon types:
  - Font Awesome Icons, Material Design Icons, Material Icons, or Text Icons
- Plugins:
  - Paging
  - Directories
  - Search
  - Cropper

## Table of Contents

- [Options](#options)
- [Callbacks](#callbacks)
- [Events](#events)
- [Methods](#methods)
- [Plugins](#plugins)
- [Examples](#examples)
- [Notes](#notes)
- [CSS](#css)


# Options

## **id**  
**Type:** `String`  
**Default:** Unique ID generated by `this.generateUID()`  
**Usage:** Helpful for identifying multiple instances and targeting CSS classes.  
  
## **payloadType**  
**Type:** `String('formData' | 'json')`  
**Default:** `'formData'`  
**Usage:** Which type of payload will be used for all requests. If `json`, files will be sent encoded as base-64 data URL.  

## **multiple**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Allow uploading multiple files.  
  
## **existingUrls**  
**Type:** `Array | Object | String`  
**Default:** `[]`  
**Usage:** Initialize with existing files and the URL to load them with. Existing URL must be string or object containing key, **url**. Can be single object/string or array of them.  
*If a string is used, this will be converted to the object `{url: string}`. The existing URL object will be passed in requests to update/remove this file*
  
## **uploadIndividually**  
**Type:** `Boolean`  
**Default:** `false`  
**Usage:** If true, only one file will be uploaded at once. Otherwise, they will be grouped into an array.  
  
## **saveOnInput**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Make save request automatically when file input `change` event is triggered or when a file is copied. If single (`!this.multiple`) and a file exists, it will be requested to be removed as well.  
  
## **previewable**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Allow previews of files when applicable.  
  
## **previewImages**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Preview image files with  `<img>`.  
  
## **previewAudio**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Preview image files with  `<audio>`.  
  
## **previewVideo**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Preview image files with  `<video>`.  

## **copyable**  
**Type:** `Boolean`  
**Default:** `this.multiple`  
**Usage:** Copy button appears in file toolbar to copy file. This will upload (and remove existing if `!this.multiple`) when copying if `saveOnInput` is true.  
  
## **downloadable**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Download button appears in file toolbar to download file.  
  
## **showFilename**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Show file name in file display.  
  
## **removable**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Remove buttons appears in file toolbar and files are removable.  
  
## **removeIndividually**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** If true, only one remove file request will be made at once. Otherwise, they will be grouped into an array.
  
## **removeOnClick**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** If true, remove file request will be made when remove button is clicked.  
  
## **maxFiles**  
**Type:** `Number`  
**Default:** `10`  
**Usage:** Maximum number of allowable files to be uploaded.  
  
## **maxFileSize**  
**Type:** `Number`  
**Default:** `10485760` (10MB)  
**Usage:** Maximum file size allowed in bytes  
  
## **displayContainer**  
**Type:** `String | HTMLElement`  
**Default:** `HTMLElement`  
**Usage:** Container element or ID of container that holds file previews.  
  
## **acceptedFileTypes**  
**Type:** `String | String[]`  
**Default:** `null`  
**Usage:** Provide comma-separated string or array of file MIME types to be enforced on the file input. All types are allowed if *null*.
  
## **acceptedExtensions**  
**Type:** `String | String[]`  
**Default:** `null`  
**Usage:** Provide comma-separated string or array of file extensions to be enforced on the file input. All extensions are allowed if *null*.
  
## **resizeImages**  
**Type:** `Boolean`  
**Default:** `false`  
**Usage:** Images will be resized within `maxWidth` and `maxHeight`, maintaining aspect ratio.  
  
## **resizeMaxWidth**  
**Type:** `Boolean`  
**Default:** `1920`  
**Usage:** Image resize maximum width.  
  
## **resizeMaxHeight**  
**Type:** `Number`  
**Default:** `1080`  
**Usage:** Image resize maximum height.  
  
## **dropify**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Use drag-and-drop file input.  

## **inputContainer**  
**Type:** `String|HTMLElement`  
**Default:** `'Browse' | 'Drag and drop files here or click to select files'`  
**Usage:** Container element or ID of container that holds the input button or dropify area.    

## **inputText**  
**Type:** `String`  
**Default:** `'Browse' | 'Drag and drop files here or click to select files'`  
**Usage:** Text to use in default input button/dropify-area.  
  
## **iconType**  
**Type:** `String('fa' | 'mdi' | 'mi' | 'text')`  
**Default:** `text`  
**Usage:** Use either Font Awesome, Material Design Icons, Material Icons, or text for icons.  

## **includeIconText**  
**Type:** `Boolean`  
**Default:** `true`  
**Usage:** Include the `text` value of the icon under it.  
  
## **uploadUrl**  
**Type:** `String`  
**Default:** `'/'`  
**Usage:** URL used for `upload()` request.  
  
## **removeUrl**  
**Type:** `String`  
**Default:** `'/'`  
**Usage:** URL used for `remove()` request.  

## **saveUrl**  
**Type:** `String`  
**Default:** `'/'`  
**Usage:** URL used for `save()` request.  

# Callbacks  

## **eventCallback**  
**Type:** `function({ name: String, message: String, type: String('success' | 'info' | 'warning' | 'danger') })`  
**Default:** `null`  
**Usage:** Alernative to listening to [events](#events).

## **loadingCallback**  
**Type:** `function(loading: Boolean)`  
**Default:** `null`  
**Usage:** Do something like create a loading overlay while making upload, remove, or save requests.  

## **progressCallback**  
**Type:** `function({ runningIndex: Number, finalIndex: Number, runningSize: Number, totalSize: Number })`  
**Default:** `null`  
**Usage:** Do something like create a progress bar while making multiple requests (only applicable if *uploadIndividually* is true and multiple files are being uploaded)  
  
## **sortCallback**  
**Type:** `function({ runningIndex: Number, finalIndex: Number, runningSize: Number, totalSize: Number })`  
**Default:** `null`  
**Usage:** Callback function passed to `this.files.sort` which is called on update.  
  
# Events  

**Note:**  
Events fired by File Fantastic behave the same as standard events. Each event is triggered on the file input element (accessible via `this.input`). Arguments are accessible within the event.detail object which will either be an object with the keys defined below or null. Each event can also be used with `this.eventCallback` with the same argument as the event's `detail`. This will be in the structure:
```
{
  name(String):             name of the event defined below,
  message(String):          default message for the event,
  type(String):             'success' | 'warning' | 'danger',
  payload(null | Object):   the event payload defined below
}
```
  
## **fileCopyFailed**  
**Payload:**  
- `file` - The File Fantastic file object that failed to be copied. 
  - Type: `Object`
**Usage:** Triggered if a file fails to copy because it would exceed `this.maxFiles`.  

## **fileInputFailed**  
**Payload:**  
- `files` - The File objects that failed to be added. 
  - Type: `Object`
- `filesWrongType` - The files that failed to be added because their types are not in the list of `this.acceptedFileTypes`. 
  - Type: `Object`
- `filesWrongExt` - The files that failed to be added because they are not in the list of `this.acceptedExtensions`. 
  - Type: `Object`
- `filesTooLarge` - The files that failed to be added because they exceed `this.maxSize`.
  - Type: `Object`
- `filesTooMany` - The files that failed to be added because there are already `this.maxFiles`. 
  - Type: `Object`
**Usage:** Triggered if a file fails to be added because it would exceed `this.maxFiles`.  

## **noFilesToUpload**  
**Payload:** `null`  
**Usage:** Triggered by `this.upload` when the payload is empty because there are no files or no files that meet the criteria to be uploaded (new or modified).  

## **noFilesToRemove**  
**Payload:** `null`  
**Usage:** Triggered by `this.remove` when the payload is empty because there are no files or no files to be removed.  

## **filesUploaded**  
- `response` - JSON response from upload or save request. 
  - Type: `Any`
- `` - File Fantastic file objects that were successfully uploaded.
  - Type: `Array`
**Usage:** Triggered when file(s) have been successfully uploaded to the server.  

## **fileUploadFailed**  
- `response` - JSON response from upload or save request. 
  - Type: `Any`
- `files` - File Fantastic file objects that failed to be uploaded.
  - Type: `Array`
**Usage:** Triggered when file(s) failed to upload or were not returned with a file ID to map an existing URL to the file.  

## **filesRemoved**  
- `response` - JSON response from remove or save request. 
  - Type: `Any`
- `files` - File Fantastic file objects that were successfully removed.
  - Type: `Array`
**Usage:** Triggered when file(s) have been successfully removed from the server.  

## **fileRemoveFailed**  
**Payload:**  
- `response` - JSON response from remove or save request. 
  - Type: `Any`
- `files` - File Fantastic file objects that failed to be removed.
  - Type: `Array`
**Usage:** Triggered when file(s) failed to be removed from the server or were not returned with a existing URL and a file ID (if `!this.multiple`).
  
## **filesReplaced**  
**Payload:**  
- `response` - JSON response from save request. 
  - Type: `Any`
- `files` - File Fantastic file objects that were succesfully removed and uploaded.
  - Type: `Array`
**Usage:** Triggered when file(s) have been successfully replaced in a save request. For example, when a file is cropped, this event will be fired instead of both `filesUploaded` and `filesRemoved`. This only applies to files with the same name.  

## **imageClicked**  
**Payload:**  
- `file` - File Fantastic file object of clicked image.
  - Type: `Array`
**Usage:** Triggered when a image preview (file of `this.acceptedImagePreviewTypes`) is clicked. Use `file.previewElement` to access image.  

# Methods  

## **upload**  
**Arguments:**  
- `ids` - The id(s) of files to upload. Null will select all files. 
  - Type: `null | String | String[]`
  - Default: `null`
- `triggerEvent` - If false and there are no files to upload, `noFilesToUpload` event will not be triggered
  - Type: `Boolean`
  - Default: `true`
- `forceAll` - If false, files are checked if they are already uploaded and unmodified (in sync with the server). If true, all files in `ids` will be uploaded regardless.
  - Type: `Boolean`
  - Default: `false`  
- `handleResponse` - If false, the upload response will not be handled.
  - Type: `Boolean`
  - Default: `true`

**Returns:** Array of promises, each resolving to `[response, ids]` where `response` is the JSON response from the request to `uploadUrl`, and `ids` is a single file ID or array of file IDs (depending on `this.uploadIndividually`). Promises may reject on XHR error or parsing JSON.     
**Usage:** Make POST request to `uploadUrl` with new and modified files.

## **getUploadPayload**  
**Arguments:**  
- `ids` - The id(s) of files to upload. Null will select all files. 
  - Type: `null | String | String[]`
  - Default: `null`  
- `addData` - If false, file meta data such as `id`, `name`, and `existingUrl` will not be added to the returned payload  
  - Type: `Boolean`
  - Default: `true`
- `addFiles` - If false, the actual file data (form data file or base64 string) will not be added to the returned payload.  
  - Type: `Boolean`
  - Default: `true`
- `forceAll` - If false, files are checked if they are already uploaded and unmodified (in sync with the server). If true, all files in `ids` will be uploaded regardless.
  - Type: `Boolean`
  - Default: `false`

**Returns:** `FormData | Object`  
**Usage:** Get payload for uploading files. 

### **Payload Structure:**  

  **JSON:**  
  **Single:**
  ```  
  {  
      id (String): unique file ID to map response to file,
      name (String): file name,  
      size (Number): file size in bytes,  
      type (String): file Mime type,  
      dataUrl (String): base-64 encoded file data prefixed with data scheme,  
      existingUrl (Object): data included if file is existing,
      fileModified (Number): Whether or not the file was modified (1 or 0) 
  }  
  ```  

  Example:
  ```
  {
      "id": "abc123",
      "name": "test.png",
      "size": 13376,
      "type": "image/png",
      "dataUrl": "data:image/png;base64,...",
      "existingUrl": {
          "url": "/examples/uploads/test.png"
      },
      "fileModified": 1
  }
  ```

  **Multiple**:  
  ```
  [
      {
          id (String): unique file ID to map response to file,
          name (String): file name,
          size (Number): file size in bytes,
          type (String): file Mime type,
          dataUrl  (String): base-64 encoded file data prefixed with data scheme,
          existingUrl (Object): data included if file is existing,
          fileModified (Number): Whether or not the file was modified (1 or 0) 
      }
  ]
  ```

  Example:
  ```
  [
      {
          "id": "abc123",
          "name": "test.png",
          "size": 13376,
          "type": "image/png",
          "dataUrl": "data:image/png;base64,...",
          "existingUrl": {
              "url": "/examples/uploads/test.png"
          },
          "fileModified": 1
      }
  ]
  ```

  **Form Data:**
  **Single**
  ```
  $_POST:
      id (String) = File ID to map response to file,
      name (String) = File name,
      size (Number) = File size in bytes,
      type (String) = File Mime type,
      existingUrl (Array) = Associative array included if file is existing,
      fileModified (Number) = Whether or not the file was modified (1 or 0) 

  $_FILES[this.id]:
      files (Array) = PHP File
  ```

  ```
  $_FILES = [
      [ff_files] => [
          [name] => "test.png"
          [type] => "image/png"
          [tmp_name] => "/tmp/def456"
          [error] => 0
          [size] => 2849
      ]
  ]

  $_POST = [
      [id] => "abc123",
      [name] => "test.png"
      [size] => 2849
      [type] => "image/png"
      [existingUrl] => [
          [url] => "/examples/uploads/test.png"
      ]
      [fileModified] => 1
]
  ```

  **Multiple:**
  
  ```
$_POST: Array of files data
    <file index>[id] (String) = File ID to map response to file,
    <file index>[name] (String) = File name,
    <file index>[size] (Number) = File size in bytes,
    <file index>[type] (String) = File Mime type, 
    <file index>[existingUrl] (Array) = Associative array included if file is existing,
    <file index>[fileModified] (Number) = Whether or not the file was modified (1 or 0) 

$_FILES[this.id]:
    files (Array) = Array of PHP files attributes (see `examples/php/server.php:rearrangeFiles()` for a way to convert this to an array of files)
  ```

  Example:

  ```
  $_FILES = [
      [ff_files] => [
          [name] => [
              [0] => "test1.png"
              [1] => "test2.jpg"
          ],
          [type] => [
              [0] => "image/png"
              [1] => "image/jpeg"
          ],
          [tmp_name] => [
              [0] => "/tmp/phpw9f0vV"
              [1] => "/tmp/phpMfulHU"
          ],
          [error] => [
              [0] => 0
              [1] => 0
          ],
          [size] => [
              [0] => 1735917
              [1] => 1761533
          ]
      ]
  ]

  $_POST = [
      [0] => [
          [name] => "test1.png"
          [type] => "image/png"
          [tmp_name] => "/tmp/phpw9f0vV"
          [error] => 0
          [size] => 1735917
      ],
      [1] => [
          [name] => "test2.jpg"
          [type] => "image/jpeg"
          [tmp_name] => "/tmp/phpMfulHU"
          [error] => 0
          [size] => 1761533
      ]
  ]
  ```

### **Response Structure:**  
 **Single:**
  ```  
  {  
      url (String): existing URL resource for successfully uploaded file
  }
  OR
  url (String): existing URL resource for successfully uploaded file
  ```  

  Example:
  ```
  {
      "url": "/examples/uploads/test.png"
  }
  OR
  "/examples/uploads/test.png"
  ```

  **Multiple**:  
  ```
  [
      {
          id (String): unique file ID to map response to successfully uploaded file,
          url (String): existing URL resource for successfully uploaded file
      }
  ]
  ```

  Example:
  ```
  [
      {
          "id": "abc123",
          "url": "/examples/uploads/test.png"
      }
  ]
  ```


## **remove**  
**Arguments:**
- `ids` - The id(s) of files to remove. Null will select all files. 
  - Type: `null | String | String[]`
  - Default: `null`
- `softRemove` - If false, a request to `removeUrl` will be made, otherwise, files will be added to `this.removedFiles`.
  - Type: `Boolean`
  - Default: `false`
- `triggerEvent` - If false and there are no files to upload, `noFilesToRemove` event will not be triggered
  - Type: `Boolean`
  - Default: `true`
- `forceAll` - If false, only files in `this.removedFiles` will be removed regardless of ids passed.
  - Type: `Boolean`
  - Default: `false`
- `handleResponse` - If false, the remove response will not be handled.
  - Type: `Boolean`
  - Default: `true`

**Returns:** Array of promises, each resolving to `[response, ids]` where `response` is the JSON response from the request to `removeUrl`, and `ids` is a single file ID or array of file IDs (depending on `this.removeIndividually`). Promises may reject on XHR error or parsing JSON. Promises will be empty if `softRemove` as no request is made.    
**Usage:** Remove files and make POST request to `removeUrl` if `!softRemove`.

  
## **getRemovePayload**  
**Arguments:**  
- `ids` - The id(s) of files to upload. Null will select all files. 
  - Type: `null | String | String[]`
  - Default: `null`  
- `forceAll` - If false, files are checked if they are in `this.removedFiles` (added to by `remove` with `softRemove`). If true, all selected files will be added.
  - Type: `Boolean`
  - Default: `false`

**Returns:** `Form Data | Object`  
**Usage:** Get payload for removal of files.  

  **Payload Structure**  
  **JSON:**  
  **Single:**
  ```  
  {  
      id (String): File ID to map response to file,
      url (String): Existing URL,  
      name (String): File name,  
      ...rest of `existingUrl`  
  }  
  ```  

  Example:
  ```
  {
      "id": "abc123",
      "url": "/examples/uploads/test.png",
      "name": "test.png",
      "size": 13376
  }
  ```

  **Multiple**:  
  ```
  [
      {
          id (String): File ID to map response to file,
          url (String): Existing URL,  
          name (String): File name, 
          ...rest of `existingUrl`  
      }
  ]
  ```

  Example:
  ```
  [
      {
          "id": "abc123",
          "url": "/examples/uploads/IMG2383.jpg",
          "name": "IMG2383.jpg",
          "size": 13376
      }
  ]
  ```

  **Form Data:**  

  **Single:**
  ```  
  $_POST:
    url (Number): file size in bytes,  
    name (String): file name,  
    type (String): file Mime type,   
  ```  

  Example:
  ```
  $_POST: [
      [url] => "/examples/uploads/test.jpg"
      [name] => "test.png"
      [size] => 13376
  ]
  ```

  **Multiple**:  
  ```
  $_POST:
    <removed index>[url]: "/examples/uploads/test.png",
    <removed index>[name]: file name
  ```

  Example:
  ```
  $_POST: [
      [0] => [
          [url] => "/examples/uploads/test.png",
          [name] => "test.png",
          [size] => 13376
      ]
  ]
  ```
  **Response Structure**  
  **Single:**
  ```  
  [  
      id (String): file ID to map response to successfully removed file
  ]

  OR

  id (String): file ID to map response to successfully removed file
  ```  
  **Multiple:**
  ```
  [  
      id (String): file ID to map response to successfully removed file
  ]
  ```


## **save**  
**Arguments:**
- `ids` - The id(s) of files to save. Null will select all files. 
  - Type: `null | String | String[]`
  - Default: `null`

**Returns:** Nothing  
**Usage:** Make save request dynamically depending on `removeIndividually` and `uploadIndividually`. If both are false, `this.getSavePayload` is used to combine both upload and remove payloads into one request.
  
## **getSavePayload**  
**Arguments:**  
- `uploadFileIds` - The id(s) of files to upload. Null will select all files. 
  - Type: `null | String | String[]`
  - Default: `null`
- `removeFileIds` - The id(s) of files to remove. Null will select all files. 
  - Type: `null | String | String[]`
  - Default: `null`  
- `forceAll` - If false, files are checked if they need to be uploaded (new or modified) and if they need to be removed (they are in `this.removedFiles` added to by `remove`). If true, all selected files will be added.
  - Type: `Boolean`
  - Default: `false`

**Returns:** `Form Data | Object`  
**Usage:** This method combines upload and remove requests and returns a single payload for save request.

  **Payload Structure:**  
  **JSON:**  

  ```
  {  
      files: upload payload,
      removedFiles: remove payload  
  }  
  ```

  Example:
  ```
  {
      "files": [
          {
              "id": "abc123",
              "name": "test.png",
              "size": 3337,
              "type": "image/png",
              "dataUrl": "data:image/png;base64, ..."
          }
      ],
      "removedFiles": [
          {
              "id": "abc123",
              "url": "/examples/uploads/test.png",
              "name": "test.png",
              "size": 3443
          }
      ]
  }
  ```

  **Form Data:**  

  ```
  $_POST:
    files<file index>[id] (String) = file ID to map non-individual response to correct file,
    files<file index>[name] (String) = file name,
    files<file index>[size] (Number) = file size in bytes,
    files<file index>[type] (String) = file Mime type,
    files<this.id>[file index] (File) = file (this will be parsed out to $_FILES in php),
    removedFiles[<removed index>][url]: existing URL,
    removedFiles[<removed index>][name]: file name
  ```

  Example:
  ```
  $_POST = [
      [files] => [
          [0] => [
              [id] => "abc123"
              [name] => "test.png"
              [size] => 3337
              [type] => "image/png"
          ]
      ],
      [removedFiles] => [
          [0] => [
              [id] => "abc123"
              [url] => "/examples/uploads/test.png"
              [name] => "test.png"
              [size] => 3443
          ]
      ]
  ]

  $_FILES = [
      [ff_files] => [
          [name] => [
              [0] => "test.png"
          ],
          [type] => [
              [0] => "image/png"
          ],
          [tmp_name] => [
              [0] => "/tmp/php6DXW3T"
          ],
          [error] => [
              [0] => 0
          ],
          [size] => [
              [0] => 3337
          ]
      ]
  ]
  ```

# Plugins

**Usage:** Add parameters as object on parameters configuration object.  

Example using `Paging` and `Cropper`:  
```
ff = new FileFantastic({
    multiple: true,
    cropper: {
        saveOnCrop: true,
    },
    paging: {
        perPage: 5,
        hideDisplayWhenSinglePage: false,
    }
})
```

## Paging
- Pagination for multiple files.
- Parameters:
  - **perPage:** Maximum files per page
    - Type: `Number`
    - Default: `10`
  - **hidePagingWhenSinglePage:** If `perPage` files or less exist, the pagination widget will be hidden.
    - Type: `Boolean`
    - Default: `false`
  - **pagingContainer:** Provide an HTML Element of the ID of one, otherwise, one will be created.
    - Type: `String | HTMLElement | null`
    - Default: `HTMLDivElement`
  - **showPageInput:** If true, the part of the widget showing the current page will be an input element that navigates to the page on focusout or enter.
    - Type: `Boolean`
    - Default: `true`

## Search
- Search through files in current directory
- Parameters:
  - **searchCallback** Function to filter files/directories displayed
    - Type: `Function(Object:file | directory, String:searchString)` returns `Boolean`
    - Default: Filter by case-insensitive substring existence on `name` property.
  - **searchOnInput** Show search results dropdown on input.
    - Type: `Boolean`
    - Default: `true`
  - **filterOnInput** Filter files and directories on page on input. 
    - Type: `Boolean`
    - Default: `true`

## Directories
- Parameters:
  - **directory** Current directory
    - Type: `String`
    - Default: `/`
  - **directories** Child directories in current directory
    - Type: `Array`
    - Default: `[]`
  - **container** Container element or ID of container that holds directory navigator.
    - Type:** `String | HTMLElement`  
    - Default:** `HTMLElement`  
  - **changeDirectoryUrl** URL used for `changeDirectory()` request.
    - Type: `String`
    - Default: `/` 
  - **creatable** Create directory name input and button appears in directory navigator.
    - Type: `Boolean`
    - Default: `true`
  - **createDirectoryUrl** URL used for `createDirectory()` request.
    - Type: `String`
    - Default: `/`
  - **removable** Remove directory buttons appears in directory navigator and/or directory toolbar.  
    - Type: `Boolean`
    - Default: `true`
  - **removeDirectoryUrl** URL used for `removeDirectory()` request.
    - Type: `String`
    - Default: `/`
  - **displayDirectories** Show directories as items with files.
    - Type: `Boolean`
    - Default: `true`
  - **showNavigatorChildren** Show directories as select in directory navigator.
    - Type: `Boolean`
    - Default: `true`

- Methods:
  - **changeDirectory** Travel to a child or parent directory.
    - Arguments:
      - `directory` Absolute directory path  
        Type: `String` 
    - Returns: 
      - Nothing
  - **getChangeDirectoryPayload**
    - **Payload Structure:**
      **JSON**
      ```  
      {
          directory (String): absolute directory path
      }
      ```  
      **Form Data**
      ```  
      $_POST:
          directory (String): absolute directory path
      ``` 

  - **createDirectory** Create a new directory in the current directory.
    - Arguments:
      - `directory` Absolute directory path  
        Type: `String` 
    - Returns: 
      - Nothing
  - **getCreateDirectoryPayload**
    - **Payload Structure:**  
      **JSON**
      ```  
      {
          directory (String): absolute directory path
      }
      ```  
      **Form Data**
      ```  
      $_POST:
          directory (String): absolute directory path
      ``` 

  - **removeDirectory** Remove a child in current directory.
    - Arguments:
      - `directory` Absolute directory path  
        Type: `String` 
    - Returns: 
      - Nothing
  - **getRemoveDirectoryPayload()**
    - **Payload Structure:**  
      **JSON**
      ```  
      {
          directory (String): absolute directory path
      }
      ```  
      **Form Data**
      ```  
      $_POST:
          directory (String): absolute directory path
      ``` 


## Debug
- Provides tools for viewing and modifying configuration options, request payloads, and other attributes on the instance and its files.
- Useful for development and building a backend while being able to easily view payload structure on different events.

## Cropper.js
- Integration for [Cropper.js](https://github.com/fengyuanchen/cropperjs)
- Parameters:
  - **saveOnCrop:** Maximum files per page
    - Type: `Number`
    - Default: `10`
  - **cropperOptions:** Configuration object used to create Cropper.js instance.
    - Type: `Object`
    - Default: 
      ```
      {
        aspectRatio: NaN,
        viewMode: 0,
        dragMode: false,
        zoomOnWheel: false,
        autoCropArea: .8,
        strict: false,
        guides: false,
        highlight: false,
        dragCrop: true,
        cropBoxMovable: true,
        cropBoxResizable: true,
        movable: true,
        checkOrientation: false,
      }
      ```
  - **cropperAspectRatios:** Aspect ratios options that show as buttons when the cropper is open. Use `0:0` for free.
    - Type: `String[]`
    - Default: `['4:3', '16:9', '0:0']`

# Examples:

## PHP:
- Create an empty directory `/file_fantastic/examples/uploads`
- Start server from root of repository: `php -S localhost:5000`
- Go to [localhost:5000/examples/php/index.php](localhost:5000/examples/php/index.php)
- You may need to change `$clientRoot` at the top of `index.php` and `server.php` if the server has its document root elswhere. For example, if you cloned directly into Apache root or httpdocs folder, change `/` to `/file_fantastic/`.

# Notes

- Remove requests will be made before upload requests on save if possible. If `uploadIndividually` and `removeIndividually` are both false, a save payload will be used. In this case, if you are modifying existing files, it is important to always handle file removals before uploads.

- File uploads may fail due to configurations in your `php.ini` file:
  - Run `php --ini` or check `phpinfo()` for the path to your `php.ini` file: `Loaded Configuration File`.
  - `upload_max_filesize` is the maximum size of any single file.
  - `max_file_uploads` is the maximum number of files that can be uploaded.
  - `post_max_size` is the maximum size of the entire request, including files.
  ```
  sed -i 's/upload_max_filesize = .*/upload_max_filesize = '<NEW MAX FILE SIZE>'/' <PATH TO PHP.INI>
  ```